# Лабораторная работа №4. Формы и валидация данных

## Цель работы

Познакомиться с основами создания и управления формами в **Laravel**.

Освоить механизмы валидации данных на сервере, использовать предустановленные и кастомные правила валидации, а также научиться обрабатывать ошибки и обеспечивать безопасность данных.

## Выполнение лабораторной

### Создание формы
1. 
![alt text](image.png)

2. 
![alt text](image-2.png)

3. 
![alt text](image-3.png)

### №3. Валидация данных на стороне сервера

![alt text](image-1.png)

![alt text](image-4.png)

### №4. Создание собственного класса запроса (Request)

![alt text](image-5.png)

![alt text](image-6.png)

### №5. Добавление флеш-сообщений

```php
session()->flash('success', 'Задача успешно создана.');
```

![alt text](image-8.png)

![alt text](image-7.png)

### №6. Защита от CSRF

![alt text](image-9.png)

### №7. Обновление задачи

```bash
php artisan make:request UpdateTaskRequest
```

![alt text](image-11.png)

![alt text](image-10.png)

### Дополнительное задание

![alt text](image-12.png)

## Контрольные вопросы

1. Что такое валидация данных и зачем она нужна?

    Валидация данных — это процесс проверки данных на соответствие определённым правилам и требованиям перед их обработкой или  сохранением. Валидация помогает обеспечить целостность и         корректность данных, предотвращает ошибки и уязвимости, такие как SQL-инъекции и XSS-атаки, и улучшает пользовательский опыт, предоставляя обратную связь о некорректных данных.

2. Как обеспечить защиту формы от CSRF-атак в Laravel?

    В Laravel защита от CSRF-атак обеспечивается автоматически с помощью встроенного механизма CSRF-токенов. Чтобы защитить форму, необходимо добавить директиву @csrf внутри тега form:
    ```php
    <form action="{{ route('tasks.store') }}" method="POST">
        @csrf
        ...
    </form>
    ```
3. Как создать и использовать собственные классы запросов (Request) в Laravel?

    Для создания собственного класса запроса используится команду Artisan:
    ```bash
    php artisan make:request CreateTaskRequest
    ```
    В котором уже настраиваются правила валидации и авторизации.

4. Как защитить данные от XSS-атак при выводе в представлении?

    Для защиты данных от XSS-атак при выводе в представлении используются функции экранирования, такие как {{ }} в Blade-шаблонах Laravel. Эти функции автоматически экранируют специальные символы HTML, предотвращая выполнение вредоносного кода:
    ```php
    <div>{{ $task->description }}</div>
    ```